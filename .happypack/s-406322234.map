{"version":3,"sources":["node_modules/@ctrip/crnweb/src/crn/lib/NavigationBarButton.js"],"names":["fontSize","global","fontSizeBase","barStyle","parseFloat","toFixed","bar2Style","borderWidth","remFn","val","NavigationBarButton","top","right","bottom","left","tintColor","props","borderStyle","type","onPress","currentApp","navigation","routes","getCurrentRoutes","length","history","back","pop","position","transform","rotate","scale","height","width","display","verticalAlign","borderLeft","borderBottom","boxSizing","index","lastIndexOf","iconName","substring","source","NativeModules","NativeResource","images","code","console","log","iconStyle","fontFamily","textAlign","backgroundColor","marginLeft","marginRight","marginTop","marginBottom","style","children","text","justifyContent","alignSelf","Component"],"mappings":"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","file":"NavigationBarButton.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["/**\n * Created by kjmao on 2017/8/3.\n */\nimport React, {Component} from 'react';\nimport {View, TouchableOpacity, Image, NativeModules, Text} from 'react-native';\nimport {ImageButton,TextButton} from \"./Button\";\nlet fontSize=global.fontSizeBase||100;\nlet barStyle= parseFloat(((44 / fontSize)).toFixed(3)) + 'rem';\nlet bar2Style= parseFloat(((88 / fontSize)).toFixed(3)) + 'rem';\nlet borderWidth= parseFloat(((8 / fontSize)).toFixed(3)) + 'rem';\nconst remFn = (val) => (parseFloat(val/fontSize).toFixed(3)) + 'rem';\n//需要在bu项目的crnwebconf.js中配置commonIconFont:true,此配置用于引入公共的IconFont ttf文件，\n//否则无法使用iconFont生成NavigationBarButton的各种图标.\nexport default class NavigationBarButton extends Component {\n    render() {\n        let tintColor=\"#fff\";\n        if(this.props.tintColor){\n            tintColor = this.props.tintColor;\n        }\n        let borderStyle=borderWidth+\" solid \"+tintColor;\n        if(this.props.type) {\n            if(this.props.type==\"icon_back\"){\n                return <TouchableOpacity  onPress={()=>{\n                    if(this.props.onPress){\n                        this.props.onPress();\n                    }else if(currentApp.navigation){\n                        let routes=currentApp.navigation.getCurrentRoutes();\n                        if(!routes||!routes.length){\n                            global.history&&history.back();\n                        }else{\n                            currentApp.navigation.pop();\n                        }\n                    }\n                }}>\n                    <View  style={{position: 'relative',\n                        transform: [{rotate:'45deg'},{scale : '0.3,0.3'}],\n                        height: barStyle,\n                        width: barStyle}}>\n                        <span style={{display: 'inline-Block',\n                            verticalAlign: 'middle',\n                            borderLeft: borderStyle,\n                            borderBottom: borderStyle,\n                            boxSizing: 'border-box',width:barStyle, height:barStyle}}>\n                        </span>\n                    </View>\n                </TouchableOpacity>\n            }else{\n                let index = this.props.type.lastIndexOf('_text');\n                let iconName = this.props.type.substring(0, index>-1?index:this.props.type.length);\n                let source = NativeModules.NativeResource.images[iconName];\n                if(!(source&&source.width&&source.height&&source.code)){\n                    console.log('NativeModules.NativeResource.images.'+this.props.type+' does not exist in cw. use online pic instead please.');\n                    return null;\n                }\n\t            let {top, right, bottom, left} = {top:(44 - source.height) / 2.0, right:(44 - source.width) / 2.0, bottom:(44 - source.height) / 2.0, left:(44 - source.width) / 2.0};\n\t            let iconStyle={fontFamily:'ct_font_common',fontSize:remFn(25),textAlign:'center',\n                    width:remFn(source.width || 0), height:remFn(source.height || 0),backgroundColor:'transparent',\n                    marginLeft:remFn(left), marginRight:remFn(right), marginTop:remFn(index>-1?0:top), marginBottom:remFn(index>-1?0:bottom)};\n\t            if(this.props.tintColor){\n\t\t            iconStyle.tintColor = this.props.tintColor;\n\t            }\n\t            if(index > -1){\n\t\t            let textStyle = {fontSize:12,textAlign:'center'};\n\t\t            return(\n                        <TouchableOpacity {...this.props} onPress = {this.props.onPress} style = {{...this.props.style,width:44, height:44}}>\n                            <div style = {iconStyle}>{source.code.props.children}</div>\n                            <Text style={textStyle}>{source.text}</Text>\n                        </TouchableOpacity>\n\t\t            );\n                }\n                return(\n                    <TouchableOpacity {...this.props} onPress = {this.props.onPress} style = {{...this.props.style,width:44, height:44}}>\n                        <div style = {iconStyle}>{source.code.props.children}</div>\n                    </TouchableOpacity>\n                );\n\n                // return <ImageButton\n                //     {...this.props}\n                //     imageSource = {source}\n                //     imageStyle = {{width:source.width || 0, height:source.height || 0}}\n                //     resizeMode={Image.resizeMode.contain}\n                //     imageInset = {{top:(44 - source.height) / 2.0, right:(44 - source.width) / 2.0, bottom:(44 - source.height) / 2.0, left:(44 - source.width) / 2.0}}\n                //     style = {{...this.props.style, width:44, height:44}}/>;\n            }\n\n        } else {\n            return <TextButton {...this.props} style = {{ ...this.props.style,justifyContent:'center',alignSelf:'center', width:this.props.children.length > 2 ? bar2Style : barStyle, height:barStyle}}/>;\n        }\n    }\n}"]}