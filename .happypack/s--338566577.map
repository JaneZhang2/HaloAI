{"version":3,"sources":["node_modules/@ctrip/crnweb/src/react-native/apis/StyleSheet/fixStyleSheet.js"],"names":["isValidValue","value","undefined","fixStyleSheet","style","result","borderColor","other","name","fixBorder","names","handle","fixBoxShadow","fixTransform","fixTextShadow","fixFlexBox","fixPaddingMargin","valueTemp","lineHeight","nameTemp","height","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor"],"mappings":"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","file":"fixStyleSheet.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport cssName from './cssName'\r\nimport fixUnit from './fixUnit'\r\nimport fixBorder from './fixBorder'\r\nimport fixFlexBox from './fixFlexBox'\r\nimport fixTransform from './fixTransform'\r\nimport fixBoxShadow from './fixBoxShadow'\r\nimport fixPaddingMargin from './fixPaddingMargin'\r\nimport fixTextShadow from './fixTextShadow'\r\n\r\n// 允许通过null来修正值，例如backgroundColor:null\r\nfunction isValidValue(value) {\r\n    return value !== '' && value !== true && value !== undefined\r\n}\r\n\r\n\r\nfunction fixStyleSheet(style) {\r\n    if(!style){\r\n        return {};\r\n    }\r\n    var result = {};\r\n    for (var name in style) {\r\n        var value = style[name];\r\n        if (isValidValue(value)) {\r\n            // 先后经过 6 个补丁程序\r\n            // 前三个针对多个样式一起处理\r\n            if (fixBorder.names[name]) {\r\n                if(!style.fixBorder){\r\n                    fixBorder.handle(style, result);\r\n                    style.fixBorder = true;\r\n                }\r\n            } else if (fixBoxShadow.names[name]) {\r\n                //解决多次重复引用boxShadow，shadowColor的丢失而导致重复计算错误\r\n                if(!style.fixBoxShadow){\r\n                    fixBoxShadow.handle(style, result);\r\n                    style.fixBoxShadow = true;\r\n                }\r\n                continue;\r\n            } else if (fixTransform.names[name]&&!style.fixTransform) {\r\n                fixTransform.handle(style, result)\r\n                style.fixTransform = true;\r\n                continue;\r\n            }else if(fixTextShadow.names[name]){\r\n                if(!style.fixTextShadow){\r\n                    fixTextShadow.handle(style, result);\r\n                    style.fixTextShadow = true;\r\n                }\r\n                continue;\r\n            }\r\n\r\n            // 后三个针对单个样式进行处理\r\n            if (fixFlexBox.names[name]) {\r\n                fixFlexBox.handle(name, value, result);\r\n            } else if (fixPaddingMargin.names[name]) {\r\n                fixPaddingMargin.handle(name, value, result);\r\n            } else {\r\n                value = fixUnit(value, name);\r\n                name = cssName(name) || name;\r\n                result[name] = value;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    var valueTemp = style.lineHeight,nameTemp=\"lineHeight\";\r\n    if(style.height&&valueTemp&&valueTemp!='auto'){\r\n        result[nameTemp]=fixUnit(valueTemp,nameTemp);\r\n    }else if(valueTemp){\r\n        if(valueTemp!='auto'){\r\n            if(style[\"fontSize\"]){\r\n                //有自定义fontSize下不处理lineHeight\r\n            }else{\r\n                result[nameTemp]=fixUnit(valueTemp,nameTemp);\r\n            }\r\n        }\r\n    }\r\n    //fix borderColor cover borderLeftColor and so on.\r\n    if(style.borderColor || result.borderColor){\r\n        var {borderColor,...other}=result;\r\n        result={...other};\r\n        result.borderTopColor = style.borderTopColor || style.borderColor || result.borderColor;\r\n        result.borderBottomColor = style.borderBottomColor || style.borderColor || result.borderColor;\r\n        result.borderLeftColor = style.borderLeftColor || style.borderColor || result.borderColor;\r\n        result.borderRightColor = style.borderRightColor || style.borderColor || result.borderColor;\r\n    }\r\n    return result;\r\n}\r\n\r\nexport default fixStyleSheet\r\n\r\n"]}