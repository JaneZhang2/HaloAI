{"version":3,"sources":["../../.npm-global/lib/node_modules/@ctrip/cw/node_modules/html-entities/lib/xml-entities.js"],"names":["ALPHA_INDEX","CHAR_INDEX","CHAR_S_INDEX","XmlEntities","prototype","encode","str","length","replace","s","decode","code","charAt","toLowerCase","parseInt","substr","isNaN","String","fromCharCode","encodeNonUTF","strLength","c","alpha","result","i","charCodeAt","encodeNonASCII","strLenght","module","exports"],"mappings":"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","file":"xml-entities.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["var ALPHA_INDEX = {\n    '&lt': '<',\n    '&gt': '>',\n    '&quot': '\"',\n    '&apos': '\\'',\n    '&amp': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&apos;': '\\'',\n    '&amp;': '&'\n};\n\nvar CHAR_INDEX = {\n    60: 'lt',\n    62: 'gt',\n    34: 'quot',\n    39: 'apos',\n    38: 'amp'\n};\n\nvar CHAR_S_INDEX = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&apos;',\n    '&': '&amp;'\n};\n\n/**\n * @constructor\n */\nfunction XmlEntities() {}\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/<|>|\"|'|&/g, function(s) {\n        return CHAR_S_INDEX[s];\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encode = function(str) {\n    return new XmlEntities().encode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.decode = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    return str.replace(/&#?[0-9a-zA-Z]+;?/g, function(s) {\n        if (s.charAt(1) === '#') {\n            var code = s.charAt(2).toLowerCase() === 'x' ?\n                parseInt(s.substr(3), 16) :\n                parseInt(s.substr(2));\n\n            if (isNaN(code) || code < -32768 || code > 65535) {\n                return '';\n            }\n            return String.fromCharCode(code);\n        }\n        return ALPHA_INDEX[s] || s;\n    });\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.decode = function(str) {\n    return new XmlEntities().decode(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonUTF = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLength = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLength) {\n        var c = str.charCodeAt(i);\n        var alpha = CHAR_INDEX[c];\n        if (alpha) {\n            result += \"&\" + alpha + \";\";\n            i++;\n            continue;\n        }\n        if (c < 32 || c > 126) {\n            result += '&#' + c + ';';\n        } else {\n            result += str.charAt(i);\n        }\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonUTF = function(str) {\n    return new XmlEntities().encodeNonUTF(str);\n };\n\n/**\n * @param {String} str\n * @returns {String}\n */\nXmlEntities.prototype.encodeNonASCII = function(str) {\n    if (!str || !str.length) {\n        return '';\n    }\n    var strLenght = str.length;\n    var result = '';\n    var i = 0;\n    while (i < strLenght) {\n        var c = str.charCodeAt(i);\n        if (c <= 255) {\n            result += str[i++];\n            continue;\n        }\n        result += '&#' + c + ';';\n        i++;\n    }\n    return result;\n};\n\n/**\n * @param {String} str\n * @returns {String}\n */\n XmlEntities.encodeNonASCII = function(str) {\n    return new XmlEntities().encodeNonASCII(str);\n };\n\nmodule.exports = XmlEntities;\n"]}