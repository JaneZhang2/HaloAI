{"version":3,"sources":["node_modules/@ctrip/crnweb/src/crn/lib/Util/getUrlParams.js"],"names":["getUrlParams","url","_url","split","idx","searchReg","urlParams","match","value","length","name","exec","key"],"mappings":";;;;;;;;;AASA,iC;AACA,iC;;AAEA,GAAIA,cAAgB,SAASC,GAAT,CAAc;AAC9B,GAAIC,MAAOD,IAAIE,KAAJ,CAAU,KAAV,CAAX;;;;;;;;;;;;AAYQC,GAZR,CACA,GAAIC,WAAY,oBAAhB,CACA,GAAIC,WAAY,EAAhB,CACA,GAAIC,MAAJ,CAAWC,KAAX,CAAkBC,MAAlB,CAA0BC,IAA1B,CAEA,MAAOH,MAAQF,UAAUM,IAAV,CAAeT,KAAK,CAAL,CAAf,CAAf,CAAwC,CACpCQ,KAAOH,MAAM,CAAN,CAAP,CACAC,MAAQD,MAAM,CAAN,CAAR,CACAD,UAAUI,IAAV,EAAkBF,KAAlB,CACH,CAED,GAAIN,KAAK,CAAL,CAAJ,CAAa,CACLE,GADK,CACC,CADD;AAETK,OAAS,mBAAMH,SAAN,CAAT;AACA,mBAAMA,SAAN,CAAiB,SAAUE,KAAV,CAAiBI,GAAjB,CAAsB;AACnC,GAAI,EAAER,GAAF,EAASK,MAAb,CAAqB;AACjBH,UAAUM,GAAV,GAAkB,MAAQV,KAAK,CAAL,CAA1B;AACH;AACJ,CAJD;AAKH;AACD,MAAOI,UAAP;AACH,CAtBD,C;;AAwBeN,Y","file":"getUrlParams.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["/**\r\n * 对传入的url进行参数解析\r\n * 结合parseUrl可进行复杂参数处理\r\n * @param url\r\n * @returns {{}}\r\n * @example\r\n *var url = 'http ://m.uat.qa.nt.ctripcorp.com/webapp/dingzhi/demand?productid=1005541196&departureid=2&departure=%25E4%25B8%258A%25E6%25B5%25B7&destination=%25E5%258F%25B0%25E5%258C%2597&destinationid=617&referenceline=%25E5%258F%25B0%25E5%258C%25975%25E6%2597%25A54%25E6%2599%259A%25E8%2587%25AA%25E7%2594%25B1%25E8%25A1%258C%25C2%25B7%25E5%25A4%259A%25E5%2587%25BA%25E5%258F%2591%25E5%258F%258C%25E9%25A3%259E%25E5%258F%258C%25E9%2585%2592JHZTest04&productorigin=2&from=http%3A%2F%2Fm.uat.qa.nt.ctripcorp.com%2Fwebapp%2Fdiyfhxsdp%2Fdetail%3Fsalecityid%3D2%26departcityid%3D2%26productid%3D1005541196%26from%3Dhttp%3A%2F%2Fm.uat.qa.nt.ctripcorp.com%2Fwebapp%2Ftour%2Ffreetravel%3Ftab%3D2%26searchtype%3Ddiy%26scity%3D2%26salecity%3D2%26kwd%3D%25E6%2596%25B0%25E5%258A%25A0%25E5%259D%25A1%20%3Chttp://m.uat.qa.nt.ctripcorp.com/webapp/dingzhi/demand?productid=1005541196&departureid=2&departure=%25E4%25B8%258A%25E6%25B5%25B7&destination=%25E5%258F%25B0%25E5%258C%2597&destinationid=617&referenceline=%25E5%258F%25B0%25E5%258C%25975%25E6%2597%25A54%25E6%2599%259A%25E8%2587%25AA%25E7%2594%25B1%25E8%25A1%258C%25C2%25B7%25E5%25A4%259A%25E5%2587%25BA%25E5%258F%2591%25E5%258F%258C%25E9%25A3%259E%25E5%258F%258C%25E9%2585%2592JHZTest04&productorigin=2&from=http://m.uat.qa.nt.ctripcorp.com/webapp/diyfhxsdp/detail?salecityid%3D2%26departcityid%3D2%26productid%3D1005541196%26from%3Dhttp://m.uat.qa.nt.ctripcorp.com/webapp/tour/freetravel?tab%3D2%26searchtype%3Ddiy%26scity%3D2%26salecity%3D2%26kwd%3D%25E6%2596%25B0%25E5%258A%25A0%25E5%259D%25A1%3E';\r\n * getUrlParams(parseUrl(url).search)\r\n */\r\nimport lsize from 'lodash/size';\r\nimport leach from 'lodash/each';\r\n\r\nlet getUrlParams =  function(url) {\r\n    var _url = url.split('://');\r\n    var searchReg = /([^&=?]+)=([^&]+)/g;\r\n    var urlParams = {};\r\n    var match, value, length, name;\r\n\r\n    while (match = searchReg.exec(_url[0])) {\r\n        name = match[1];\r\n        value = match[2];\r\n        urlParams[name] = value;\r\n    }\r\n\r\n    if (_url[1]) {\r\n        var idx = 0;\r\n        length = lsize(urlParams);\r\n        leach(urlParams, function (value, key) {\r\n            if (++idx == length) {\r\n                urlParams[key] += '://' + _url[1];\r\n            }\r\n        });\r\n    }\r\n    return urlParams;\r\n}\r\n\r\nexport default getUrlParams;"]}