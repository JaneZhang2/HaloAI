{"version":3,"sources":["node_modules/@ctrip/crnweb/src/react-native/apis/StyleSheet/CCSWillBeInjected.web.js"],"names":["flexStyle","document","global","divFontSizeStyle","fontSizeBase","htmlFontSizeStyle","getFontSizeBase","orifontsizebase","getComputedStyle","$dom","createElement","style","fontSize","body","appendChild","realDivFontSize","parseInt","undefined","realFSB","parseFloat","removeChild","toString","fontFamilyBase","cw_scale","Dimensions","get","scale","fontSizeBaseScale","css"],"mappings":"yDAAA,wD;AACA,GAAIA,8PAAJ;;AAEA,GAAIC,UAASC,OAAOD,QAApB;AACA,GAAIE,kBAAiBD,OAAOE,YAAP,CAAqB,EAArB,sBAArB;AACA,GAAIC,mBAAkBH,OAAOE,YAAP,IAAwBF,OAAOE,YAA/B,MAAtB;;;;;;;;;;AAUA,QAASE,gBAAT,CAAyBC,eAAzB,CAAyC;AACrC,GAAG,MAAOL,QAAOM,gBAAd,GAAmC,UAAtC,CAAiD;AAC7C,MAAOD,gBAAP;AACH;AACD,GAAIE,MAAOR,SAASS,aAAT,CAAuB,KAAvB,CAAX;AACAD,KAAKE,KAAL,CAAWC,QAAX,CAAsB,MAAtB;AACAX,SAASY,IAAT,CAAcC,WAAd,CAA0BL,IAA1B;;AAEA,GAAIM,iBAAkBC,SAASd,OAAOM,gBAAP,CAAwBC,IAAxB,CAA6BQ,SAA7B,EAAwCL,QAAjD,CAAtB;AACA,GAAIM,SAAUC,WAAWZ,eAAX,EAA8B,EAA9B,CAAiCQ,eAA/C;AACAd,SAASY,IAAT,CAAcO,WAAd,CAA0BX,IAA1B;AACA,MAAOS,SAAQG,QAAR,EAAP;AACH;AACDhB,kBAAoBC,gBAAgBD,iBAAhB,CAApB;;AAEA,GAAIiB,gBAAepB,OAAOoB,cAAP,IAA0BpB,OAAOoB,cAAjC,CAAmD,0EAAtE;;AAEA,GAAIC,UAASC,gBAAWC,GAAX,CAAe,QAAf,EAAyBC,KAAtC;AACAxB,OAAOE,YAAP,CAAoBC,iBAApB;AACAA,kBAAkBA,kBAAkBkB,QAApC;AACArB,OAAOyB,iBAAP,CAAyBtB,iBAAzB;;;;AAIA,GAAMuB;AACkBvB,iBADlB,gDACkFiB,cADlF;;AAGsEtB,SAHtE;;AAKyDA,SALzD;AAMsEA,SANtE;AAO8CG,gBAP9C,y+GAAN,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCeyB,G","file":"CCSWillBeInjected.web.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["import Dimensions from './../../apis/Dimensions/index.web';\r\nlet flexStyle = `box-sizing: border-box;display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex;-webkit-box-orient: vertical;-webkit-box-direction: normal;-webkit-flex-direction: column;-ms-flex-direction: column;flex-direction: column;`;\r\n\r\nvar document=global.document;\r\nlet divFontSizeStyle=global.fontSizeBase? \"\": `font-size: 0.14rem;`;\r\nlet htmlFontSizeStyle=global.fontSizeBase? `${global.fontSizeBase}` : `100`;\r\n/*\r\n* @description 浏览器默认font-size为16px，但是当浏览器将默认字号变小，整个页面由于字体变小而展示不正常，\r\n* 例如华为自带浏览器可以手动设置字号缩小（小于16px），故将原始fontSizeBase放大浏览器字体缩小的倍数就可正常展示。\r\n* 此修复只能保证页面首次渲染和刷新后是正常的，页面出来后用户改变浏览器默认字号仍会造成页面局部不正常（设置了width或height的部分），\r\n* 刷新后页面内容会恢复成标准大小。但是整个修复对用户并不友好！！！\r\n* TODO：此修复并不是十分必要的（优先级很低），故当此修复带来任何副作用时即可将其删除！！！\r\n* @param orifontsizebase 原始的window.fontSizeBase\r\n* @return 适配浏览器默认font-size的fontSizeBase\r\n* */\r\nfunction getFontSizeBase(orifontsizebase){\r\n    if(typeof global.getComputedStyle !== 'function'){\r\n        return orifontsizebase;\r\n    }\r\n    let $dom = document.createElement('div');\r\n    $dom.style.fontSize = '14px';\r\n    document.body.appendChild($dom);\r\n    // let realDivFontSize = parseInt(global.getComputedStyle(document.getElementsByTagName(\"div\")[0],undefined).fontSize) || 16;\r\n    let realDivFontSize = parseInt(global.getComputedStyle($dom,undefined).fontSize);\r\n    let realFSB = parseFloat(orifontsizebase) * 14/realDivFontSize;//orifontsizebase可能为float数据\r\n    document.body.removeChild($dom);\r\n    return realFSB.toString();\r\n}\r\nhtmlFontSizeStyle = getFontSizeBase(htmlFontSizeStyle);\r\n\r\nlet fontFamilyBase=global.fontFamilyBase? `${global.fontFamilyBase}` :'-apple-system,\"Segoe UI\",Roboto, \"Open Sans\",\"Helvetica Neue\",sans-serif';\r\n\r\nlet cw_scale=Dimensions.get('window').scale;\r\nglobal.fontSizeBase=htmlFontSizeStyle;\r\nhtmlFontSizeStyle=htmlFontSizeStyle*cw_scale;\r\nglobal.fontSizeBaseScale=htmlFontSizeStyle;\r\n\r\n\r\n// 需要被注入的 css\r\nconst css =\r\n    `html {font-size: ${htmlFontSizeStyle}px;overflow:hidden;height:100%;font-family: ${fontFamilyBase}}\r\nbody {margin: 0;height:100%;line-height: 1.2;-webkit-text-size-adjust: 100% !important;}\r\n.rn-view,.rn-flex {position: relative;flex:0 0 auto;-webkit-flex:0 0 auto;${flexStyle}}\r\n.root-tag{width:100%;position:relative;z-index:1;display:flex;display: -webkit-box;display: -webkit-flex;display: -ms-flexbox;display: flex;flex:1;-webkit-flex:1;height: 100%;}\r\n.rn-root{position:absolute;top: 0;left: 0;right: 0;bottom: 0;${flexStyle}}\r\n.rn-global-compontent{position:absolute;top: 0;left: 0;right: 0;bottom: 0;${flexStyle}}\r\ndiv,span,img {border-width: 0;border-style: solid;${divFontSizeStyle};}\r\nspan {box-sizing:border-box;}\r\ndiv,span,img {outline: none;-webkit-tap-highlight-color: transparent;}\r\ninput:focus{outline:0;} input::-webkit-input-placeholder {color:rgb(212, 212, 212);font-weight: 300;} input:-moz-placeholder { color:rgb(212, 212, 212);} input:-ms-input-placeholder {color:rgb(212, 212, 212);}\r\n.rn-hidden {display:none;} .pointer-events-none {pointer-events: none;} .pointer-events-auto {pointer-events: auto;} .pointer-events-box-none {pointer-events: none;}\r\n.pointer-events-box-none * {pointer-events: auto;} .pointer-events-box-only {pointer-events: auto;} .pointer-events-box-only * {pointer-events: none;}\r\n.rn-text > .rn-view{display:inline-block;} .rn-text > .rn-text {display:inline;font-size:inherit;}\r\n.resize-triggers {visibility: hidden;opacity: 0;z-index: -1;}\r\n.resize-triggers,\r\n.expand-trigger,\r\n.contract-trigger,\r\n.contract-trigger:before {content: \" \";display: block;position: absolute;top: 0;left: 0;height: 100%;width: 100%;overflow: hidden;}\r\n.contract-trigger:before {width: 200%;height: 200%;}\r\n.rn-scroller-vert{will-change: transform, -webkit-transform, -moz-transform;-webkit-will-change: transform, -webkit-transform, -moz-transform;-moz-will-change: transform, -webkit-transform, -moz-transform;min-height:100%;width:100%;}\r\n.rn-scroller-hori{will-change: transform, -webkit-transform, -moz-transform;-webkit-will-change: transform, -webkit-transform, -moz-transform;-moz-will-change: transform, -webkit-transform, -moz-transform;min-width:100%;flex:1;-webkit-flex:1;}\r\n.crnweb-mask{background-color: rgba(0,0,0,.5);} .rn-scroller-hori > *{flex-shrink:0;-webkit-flex-shrink:0;}\r\n@keyframes slideleftin {from {-webkit-transform: translateX(-50%);transform: translateX(-50%);opacity: 0} to {-webkit-transform: translateX(0px);transform: translateX(0px);opacity: 1}}\r\n@-webkit-keyframes slideleftin {from {-webkit-transform: translateX(-50%);opacity: 0}to {-webkit-transform: translateX(0px);opacity: 1}}\r\n@keyframes sliderightin {from {-webkit-transform: translateX(50%);transform: translateX(50%);opacity: 0}to {-webkit-transform: translateX(0px);opacity: 1}}\r\n@-webkit-keyframes sliderightin {from {-webkit-transform: translateX(50%);opacity: 0} to {-webkit-transform: translateX(0px);opacity: 1}}\r\n.slideleftin {-webkit-animation: slideleftin 350ms ease-in-out;animation: slideleftin 350ms ease-in-out}\r\n.sliderightin {-webkit-animation: sliderightin 350ms ease-in-out;animation: sliderightin 350ms ease-in-out}\r\n@keyframes slidedownin {from {-webkit-transform: translateY(50%);transform: translateY(50%); opacity: 0 } to {-webkit-transform: translateY(0px);opacity: 1}}\r\n@-webkit-keyframes slidedownin {from {-webkit-transform: translateY(50%);transform: translateY(50%);opacity: 0} to {-webkit-transform: translateY(0px);opacity: 1}}\r\n@keyframes slideupin {from {-webkit-transform: translateY(50%);transform: translateY(50%);opacity: 0} to {-webkit-transform: translateY(0px);opacity: 1}}\r\n@-webkit-keyframes slideupin {from {-webkit-transform: translateY(-50%);transform: translateY(-50%);opacity: 0} to {-webkit-transform: translateY(0px);opacity: 1}}\r\n.slidedownin {-webkit-animation: slidedownin 350ms ease-in-out;animation: slidedownin 350ms ease-in-out}\r\n.slideupin {-webkit-animation: slideupin 350ms ease-in-out;animation: slideupin 350ms ease-in-out}\r\n.animatestart {position: absolute;top: 0;left: 0;z-index: 9999;width: 100%;height: 100%;overflow-x: hidden}\r\n.animationComponent {will-change: opacity, left, top;-webkit-will-change: opacity, left, top;-moz-will-change: opacity, left, top;}`;\r\n\r\nexport default css\r\n\r\n"]}