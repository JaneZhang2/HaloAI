{"version":3,"sources":["node_modules/@ctrip/crnweb/src/react-native/components/Touchable/TouchableOpacity.web.js"],"names":["PRESS_RETENTION_OFFSET","top","left","right","bottom","TouchableOpacity","props","state","touchableGetInitialState","anim","Animated","Value","value","timing","toValue","duration","start","e","clearTimeout","_hideTimeout","_opacityActive","onPressIn","_opacityInactive","onPressOut","shouldFocusInputForWeb","global","document","getElementById","focus","setTimeout","delayPressOut","onPress","onLongPress","pressRetentionOffset","hitSlop","delayPressIn","delayLongPress","setOpacityTo","activeOpacity","childStyle","StyleSheet","flatten","style","opacity","undefined","id","accessibilityLabel","accessibilityRole","styles","root","testID","onLayout","touchableHandleStartShouldSetResponder","touchableHandleResponderTerminationRequest","d","touchableHandleResponderGrant","touchableHandleResponderMove","touchableHandleResponderRelease","touchableHandleResponderTerminate","children","Component","defaultProps","create","userSelect","alignItem","displayName"],"mappings":"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","file":"TouchableOpacity.web.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["/**\n * @providesModule TouchableOpacity\n */\n\n\nimport React,{Component} from 'react';\nimport Animated from './../../apis/Animated/Animated.web';\nimport StyleSheet from './../../apis/StyleSheet/StyleSheet.web';\nimport TimerWrapper from \"./../../modules/wrapper/reactTimerWrapper\"\nimport TouchableWrapper from \"./Touchable.web\"\nimport NativeMethodsWrapper from './../../modules/wrapper/NativeMethodsWrapper/index.web';\nlet PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\n\n /**\n * TouchableOpacity组件\n *\n * @component TouchableOpacity\n * @example ./TouchableOpacity.js[1-38]\n * @version >=v1.4.0\n * @description  TouchableOpacity是一个封装视图，能够响应触摸操作，当触摸时，视图的不透明度会降低。\n *\n * ![TouchableOpacity](./images/component/TouchableOpacity.gif)\n *\n */\n class TouchableOpacity extends Component{\n      static defaultProps= {\n          activeOpacity: 0.2,\n          style: {},\n      }\n     constructor(props){\n        super(props);\n        this.state={\n            ...this.touchableGetInitialState(),\n            anim: new Animated.Value(1),\n        }\n     }\n\n     setOpacityTo(value) {\n         Animated.timing(\n             this.state.anim,\n             {toValue: value, duration: 150}\n         ).start();\n     }\n\n     touchableHandleActivePressIn(e) {\n         this.clearTimeout(this._hideTimeout);\n         this._hideTimeout = null;\n         this._opacityActive();\n         this.props.onPressIn && this.props.onPressIn(e);\n     }\n\n     touchableHandleActivePressOut(e) {\n         if (!this._hideTimeout) {\n             this._opacityInactive();\n         }\n         this.props.onPressOut && this.props.onPressOut(e);\n     }\n\n     touchableHandlePress(e) {\n         if(this.props.shouldFocusInputForWeb){\n             if(global.document){\n                 global.document.getElementById('cw_superInput').focus();\n             }\n\n         }\n         this.clearTimeout(this._hideTimeout);\n         this._opacityActive();\n         this._hideTimeout = this.setTimeout(\n             this._opacityInactive,\n             this.props.delayPressOut || 100\n         );\n         this.props.onPress && this.props.onPress(e);\n     }\n     touchableHandleLongPress(e) {\n         this.props.onLongPress && this.props.onLongPress(e);\n     }\n     touchableGetPressRectOffset() {\n         return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n     }\n     touchableGetHitSlop() {\n         return this.props.hitSlop;\n     }\n\n     touchableGetHighlightDelayMS() {\n         return this.props.delayPressIn || 0;\n     }\n\n     touchableGetLongPressDelayMS() {\n         return this.props.delayLongPress === 0 ? 0 :\n             this.props.delayLongPress || 500;\n     }\n     touchableGetPressOutDelayMS() {\n         return this.props.delayPressOut || 0;\n     }\n\n     _opacityActive() {\n         this.setOpacityTo(this.props.activeOpacity);\n     }\n     _opacityInactive() {\n         this.clearTimeout(this._hideTimeout);\n         this._hideTimeout = null;\n         let childStyle = StyleSheet.flatten(this.props.style) || {};\n         this.setOpacityTo(\n             childStyle.opacity === undefined ? 1 : childStyle.opacity\n         );\n     }\n\n     render() {\n         // style到view层会fix一遍\n         return (\n             <Animated.View\n                 id={this.props.id}\n                 accessible=\"true\"\n                 accessibilityLabel={this.props.accessibilityLabel}\n                 accessibilityRole={this.props.accessibilityRole || 'button'}\n                 style={[styles.root,this.props.style,{opacity: this.state.anim}]}\n                 testID={this.props.testID}\n                 onLayout={this.props.onLayout}\n                 hitSlop={this.props.hitSlop}\n                 onStartShouldSetResponder={(e) =>{\n                    return this.touchableHandleStartShouldSetResponder(e)\n                 } }\n                 onResponderTerminationRequest={(e) =>{\n                    return this.touchableHandleResponderTerminationRequest(e)\n                 }}\n                 onResponderGrant={(e,d) =>{\n                    return this.touchableHandleResponderGrant(e,d)\n                 }}\n                 onResponderMove={(e) =>{\n                    return this.touchableHandleResponderMove(e)\n                 }}\n                 onResponderRelease={(e) =>{\n                    return this.touchableHandleResponderRelease(e)\n                 }}\n                 onResponderTerminate={(e) =>{\n                    return this.touchableHandleResponderTerminate(e)}}\n                 tabIndex='1'\n             >\n                 {this.props.children}\n             </Animated.View>\n         );\n     }\n }\n\nlet styles = StyleSheet.create({\n  root: {\n    userSelect: 'none',\n    alignItem:'center',\n    // justifyContent:'center'\n  }\n});\n\nTouchableOpacity = TimerWrapper(TouchableOpacity);\nTouchableOpacity = TouchableWrapper(TouchableOpacity);\nTouchableOpacity = NativeMethodsWrapper(TouchableOpacity);\nTouchableOpacity.displayName=\"TouchableOpacity\";\nexport default TouchableOpacity;\n\n"]}