{"version":3,"sources":["node_modules/@ctrip/crnweb/src/react-native/apis/Dimensions/index.web.js"],"names":["isServer","window","global","screen","width","height","__cw_getScale","scale","metaEl","match","document","querySelector","getAttribute","parseFloat","__cw_scale","dimensions","documentElement","clientWidth","clientHeight","modalFullscreenView","Dimensions","dim"],"mappings":";;;;;AAKA,GAAIA,UAAS,MAAOC,OAAP,GAAgB,WAA7B;AACA,GAAGD,QAAH,CAAY;AACRE,OAAOC,MAAP,CAAc,CAACC,MAAM,CAAP,CAASC,OAAO,CAAhB,CAAd;AACH;AACD,GAAIC,eAAc,UAAU;AACxB,GAAIC,OAAM,CAAV;;AAEQC,MAFR;;AAIYC,KAJZ,CACA,GAAGP,OAAOQ,QAAV,CAAmB,CACXF,MADW,CACFN,OAAOQ,QAAP,CAAgBC,aAAhB,CAA8B,uBAA9B,CADE,CAEf,GAAIH,MAAJ,CAAW,CACHC,KADG,CACKD,OAAOI,YAAP,CAAoB,SAApB,EAA+BH,KAA/B,CAAqC,0BAArC,CADL;AAEP,GAAIA,KAAJ,CAAW;AACPF,MAAOM,WAAWJ,MAAM,CAAN,CAAX,CAAP;AACH;AACJ;AACJ;;AAED,MAAO,GAAEF,KAAT;AACH,CAbD;AAcA,GAAIO,YAAWR,eAAf;;AAEA,GAAIS,YAAa;;AAEfd,OAAQ;AACN,GAAIG,MAAJ,EAAY;AACR,GAAGJ,QAAH,CAAY;AACR,MAAO,EAAP;AACH;AACD,MAAOE,QAAOQ,QAAP,CAAgBM,eAAhB,CAAgCC,WAAhC,CAA4CH,UAAnD;AACH,CANK;AAON,GAAIT,OAAJ,EAAa;AACT,GAAGL,QAAH,CAAY;AACR,MAAO,EAAP;AACH;AACD,MAAOE,QAAOQ,QAAP,CAAgBM,eAAhB,CAAgCE,YAAhC,CAA6CJ,UAA7C,EAA2DZ,OAAOC,MAAP,CAAcE,MAAhF;AACH,CAZK;AAaN,GAAIE,MAAJ,EAAY,CAAE,MAAOO,aAAY,CAAnB,CAAsB,CAb9B,CAFO;;AAiBfK,oBAAqB;AACnBf,MAAOF,OAAOC,MAAP,CAAcC,KADF;AAEnBC,OAAQH,OAAOC,MAAP,CAAcE,MAFH,CAjBN,CAAjB,C;;;;AAuBMe,U;AACOC,G,CAAK;AACd,GAAG,CAACA,GAAJ,CAAQ,CAACA,IAAI,QAAJ,CAAa;AACtB,MAAON,YAAWM,GAAX,CAAP;AACD,C;;;;AAIYD,U","file":"index.web.js","sourceRoot":"/Users/jane/Documents/HaloAI","sourcesContent":["/**\r\n *\r\n *  @providesModule Dimensions\r\n *\r\n**/\r\nvar isServer=typeof window===\"undefined\";\r\nif(isServer){\r\n    global.screen={width:0,height:0};//todo\r\n}\r\nlet __cw_getScale=function(){\r\n    var scale=1;\r\n    if(global.document){\r\n        var metaEl = global.document.querySelector('meta[name=\"viewport\"]');\r\n        if (metaEl){\r\n            var match = metaEl.getAttribute('content').match(/initial\\-scale=([\\d\\.]+)/);\r\n            if (match) {\r\n                scale= parseFloat(match[1]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return 1/scale;\r\n}\r\nlet __cw_scale=__cw_getScale();\r\n\r\nlet dimensions = {\r\n  // Not map to real window size, because that map to screen size in native env.\r\n  window: {\r\n    get width() {\r\n        if(isServer){\r\n            return 0;//todo\r\n        }\r\n        return global.document.documentElement.clientWidth/__cw_scale;\r\n    },\r\n    get height() {\r\n        if(isServer){\r\n            return 0;//todo\r\n        }\r\n        return global.document.documentElement.clientHeight/__cw_scale || global.screen.height;\r\n    },\r\n    get scale() { return __cw_scale||1 },\r\n  },\r\n  modalFullscreenView: {\r\n    width: global.screen.width,\r\n    height: global.screen.height\r\n  }\r\n};\r\n\r\nclass Dimensions {\r\n  static get(dim) {\r\n    if(!dim){dim=\"window\"}\r\n    return dimensions[dim];\r\n  }\r\n\r\n}\r\n\r\nexport default Dimensions;\r\n"]}